<!doctype html>

<html lang="en">
<head>
  <meta charset="utf-8">

  <title>MbilityVis</title>
  <meta name="description" content="MbilityVis">
  <meta name="author" content="SitePoint">

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.3/dist/leaflet.css" />
  <link rel="stylesheet" href="css/styles.css" />

  <script src="https://d3js.org/d3.v4.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.0.3/dist/leaflet.js"></script>
  <script src='https://api.tiles.mapbox.com/mapbox.js/v1.6.4/mapbox.js'></script>



  <!--[if lt IE 9]>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.js"></script>
  <![endif]-->
</head>

<body>
  <script src="js/scripts.js"></script>

  <div id="mapContainer">
    <script src="js/cartoBase.js"></script>
    

    <script type="text/javascript">

       // we will be appending the SVG to the Leaflet map pane
      // g (group) element will be inside the svg 
      var svg = d3.select(map.getPanes().overlayPane).append("svg");
      // if you don't include the leaflet-zoom-hide when a 
      // user zooms in or out you will still see the phantom
      // original SVG 
      var g = svg.append("g").attr("class", "leaflet-zoom-hide");

/*
      d3.json('js/points.geojson', function(collection) {
        
        console.log(collection.features)
        var applyLatLngToLayer = function (d) {
          var y = d.geometry.coordinates[1]
          var x = d.geometry.coordinates[0]
          return map.latLngToLayerPoint(new L.LatLng(y, x))
          }
        console.log(applyLatLngToLayer())

        
        var applyLatLngToLayer = function (d) {
          var y = d.geometry.coordinates[1]
          var x = d.geometry.coordinates[0]
          return map.latLngToLayerPoint(new L.LatLng(y, x))
          }


        var toLine = d3.svg.line()
        .interpolate("linear")
        .x(function(d) {
          return applyLatLngToLayer(d).x})
        .y(function(d) {
          return applyLatLngToLayer(d).y});


        // documentation for geogranform
        // https://github.com/d3/d3-geo/blob/master/README.md#geoTransform
        var transform = d3.geoTransform({
          point: function(x, y) {
            var point = map.latLngToLayerPoint(new L.LatLng(y, x));
            this.stream.point(point.x, point.y);
          }
        });

        console.log(transform)

        var d3path = d3.geo.path()
          .projection(transform);

        
    });

*/


        



    </script>

  </div>


 

</body>
</html>